---
- defaults:
    link:
      relink: true

- clean: ['~']

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - command: |
        test -d "$HOME/.oh-my-zsh" || sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
      description: Install Oh-My-Zsh
      stdout: true
      stderr: true

- brewfile:
    - macos/Brewfile

- link:
    ~/.zshrc: config/zshrc
    ~/.tmux.conf: config/tmux.conf
    ~/.config/nvim/init.vim:
      path: config/init.vim
      create: true
    ~/.yamllint.yml: config/yamllint.yml
    ~/.hadolint.yml: config/hadolint.yml
    ~/.oh-my-zsh/custom/alias.zsh: config/alias.zsh
    ~/.config/wezterm/wezterm.lua:
      path: config/wezterm.lua
      create: true

- git:
    '~/.oh-my-zsh/custom/plugins/forgit':
      url: 'https://github.com/wfxr/forgit'
    '~/.oh-my-zsh/custom/plugins/zsh-autosuggestions':
      url: 'https://github.com/zsh-users/zsh-autosuggestions'

- pipx:
    file: python/requirements-pipx.txt
    stdout: false
    stderr: true
